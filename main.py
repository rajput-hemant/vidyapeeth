from flask import Flask

from lib.extensions import db, jwt
from routes import auth, book, user

# -----------------------------------------------------------------------------------------------
# Initialize Flask App
# -----------------------------------------------------------------------------------------------

app = Flask(__name__)


# -----------------------------------------------------------------------------------------------
# Load Config from Environment
# -----------------------------------------------------------------------------------------------

app.config.from_prefixed_env()

# -----------------------------------------------------------------------------------------------
# Initialize Extensions
# -----------------------------------------------------------------------------------------------

db.init_app(app)
jwt.init_app(app)


# -----------------------------------------------------------------------------------------------
# Register Blueprints
# -----------------------------------------------------------------------------------------------

app.register_blueprint(auth, url_prefix="/auth")
app.register_blueprint(user, url_prefix="/user")
app.register_blueprint(book, url_prefix="/book")
